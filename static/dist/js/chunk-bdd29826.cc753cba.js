(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdd29826"],{"13a3":function(t,e,i){t.exports=i.p+"img/photograph.84055b42.png"},"3f2d":function(t,e,i){},"4a18":function(t,e,i){t.exports=i.p+"img/shareBackground.76a63f5f.jpg"},"4d48":function(t,e,i){"use strict";i("68ef"),i("bf60")},"58be":function(t,e,i){"use strict";i.r(e);var a,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[t._m(0),a("div",{attrs:{id:"buttom"}},[a("van-button",{attrs:{size:"large",type:"primary"},on:{click:t.showThumb}},[t._v("点击生成分享海报")]),a("van-dialog",{attrs:{title:"截图展示","show-cancel-button":""},model:{value:t.showPoster,callback:function(e){t.showPoster=e},expression:"showPoster"}},[a("img",{staticClass:"picture",attrs:{src:i("d263")}})]),a("van-row",{attrs:{type:"flex"}},[a("van-col",{attrs:{span:"4"}},[a("van-button",{staticClass:"rules",attrs:{plain:"",size:"mini"},on:{click:t.showThumb_1}},[t._v("截图示例")]),a("van-dialog",{attrs:{title:"截图展示","show-cancel-button":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("img",{staticClass:"picture",attrs:{src:i("d263")}})])],1),a("van-col",{attrs:{span:"4"}},[a("van-button",{staticClass:"rules",attrs:{plain:"",size:"mini"},on:{click:t.onClickAlertRules}},[t._v("活动规则")])],1)],1),a("div",{staticClass:"uploader"},[a("van-uploader",{attrs:{"after-read":t.onRead,name:"截图","max-size":t.maxSize,accept:"image/jpg, image/jpeg, image/png"},on:{oversize:t.oversize}},[a("van-row",{attrs:{type:"flex"}},[a("van-col",t._l(t.img,function(e,i){return a("div",{key:i},[a("img",{ref:"goodsImg",refInFor:!0,staticClass:"Photograph",attrs:{src:e}}),a("van-icon",{attrs:{name:"clear"},nativeOn:{click:function(e){return e.stopPropagation(),t.imgclose(i)}}})],1)}),0),a("van-col",[a("img",{staticClass:"Photograph",attrs:{src:i("13a3"),name:"photograph"}})])],1)],1)],1),a("van-dialog",{attrs:{title:"长按关注客服二维码","show-cancel-button":""},model:{value:t.serviceQrCodeShow,callback:function(e){t.serviceQrCodeShow=e},expression:"serviceQrCodeShow"}},[a("img",{staticClass:"picture",attrs:{src:t.serviceQrCodeImage}})]),a("van-button",{attrs:{size:"large",type:"primary",id:"submitButton"},on:{click:t.submitComment}},[t._v("提交审核领奖励")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Top"}},[a("img",{staticStyle:{width:"100%",height:"300px"},attrs:{src:i("4a18")}}),a("h3",[t._v("活动流程")]),a("div",{attrs:{id:"rule"}},[a("p",[t._v("1. 生成分享海报")]),a("p",[t._v("2. 保存海报分享至朋友圈")]),a("p",[t._v("3. 在此活动页上传任务截图")]),a("p",[t._v("4. 审核通过后发奖")])])])}],r=i("f499"),o=i.n(r),c=(i("96cf"),i("3b8d")),u=i("bd86"),l=(i("e7e5"),i("d399")),f=(i("e930"),i("8f80")),h=(i("c3a6"),i("ad06")),d=(i("81e6"),i("9ffb")),p=(i("4d48"),i("d1e1")),g=(i("7f7f"),i("66b9"),i("b650")),m=i("9e55"),v=i("365c"),b=i("a417"),y={name:"shareMoments",components:(a={},Object(u["a"])(a,g["a"].name,g["a"]),Object(u["a"])(a,p["a"].name,p["a"]),Object(u["a"])(a,d["a"].name,d["a"]),Object(u["a"])(a,h["a"].name,h["a"]),Object(u["a"])(a,f["a"].name,f["a"]),Object(u["a"])(a,l["a"].name,l["a"]),a),data:function(){return{img:[],show:!1,showPoster:!1,maxSize:2097152,serviceQrCodeShow:!1,activityDetail:null}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.show.activityDetail(Object(m["a"])("activity"));case 2:e=t.sent,i=e.data,200===i.code&&(this.activityDetail=i.data);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),computed:{serviceQrCodeImage:function(){var t="/media/marketing/activity/default_service_qr_code.jpg";return null!==this.activityDetail&&null!==this.activityDetail.customer_service_qrcode?b["a"].base+this.activityDetail.customer_service_qrcode:t}},methods:{showThumb:function(){this.showPoster=!0},showThumb_1:function(){this.show=!0},onClickAlertRules:function(){var t="1. 活动有效时间: XXXXXXX \n 2.领取方式: 提交订单信息 - 等待审核 - 奖励发放 \n 3. 奖励发放时间：1 - 3 个工作日内发放 \n 4. 关注公众号的会员方可参加本活动 \n 5.若由于微信原因无法领取红包，请及时与 VIP 客服联系\n 6. 最终解释权归本公众号所有",e=null===this.activityDetail.rules||void 0===this.activityDetail.rules?t:this.activityDetail.rules;this.$dialog.alert({title:"活动规则",message:e})},onRead:function(t){console.log(this.img.length),this.img.length>=1?Object(l["a"])("只需上传一张图喲！"):(this.file=t.file,this.img.push(t.content))},oversize:function(){Object(l["a"])("上传的文件不能超过2M!")},imgclose:function(t){console.log(t),this.img.splice(t,1)},submitComment:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,i,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=new FormData,e.append("screen_shot",this.file),i=Object(m["a"])("activity"),e.append("activity",i),void 0!==this.file&&null!==this.file&&""!==this.file){t.next=8;break}Object(l["a"])("晒单截图不能为空"),t.next=17;break;case 8:if(void 0!==i&&null!==i){t.next=12;break}Object(l["a"])("参数错误"),t.next=17;break;case 12:return t.next=14,v["a"].share.shareCreate(e);case 14:a=t.sent,n=a.data,200!==n.code?(Object(l["a"])(o()(n.desc)+" activity="+e.get("activity")),console.log(n)):(Object(l["a"])("提交成功"),this.img=[],this.file="",this.serviceQrCodeShow=!0);case 17:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},w=y,x=(i("ffc4"),i("2877")),j=Object(x["a"])(w,n,s,!1,null,"19f02e4e",null);e["default"]=j.exports},"66b9":function(t,e,i){"use strict";i("68ef")},"7b0a":function(t,e,i){},"7f7f":function(t,e,i){var a=i("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in n||i("9e1e")&&a(n,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"81e6":function(t,e,i){"use strict";i("68ef"),i("7b0a")},"8f80":function(t,e,i){"use strict";var a=i("c31d"),n=i("a142"),s=Object(n["g"])("uploader"),r=s[0],o=s[1];e["a"]=r({inheritAttrs:!1,props:{disabled:Boolean,beforeRead:Function,afterRead:Function,accept:{type:String,default:"image/*"},resultType:{type:String,default:"dataUrl"},maxSize:{type:Number,default:Number.MAX_VALUE}},methods:{onChange:function(t){var e=this,i=t.target.files;!this.disabled&&i.length&&(i=1===i.length?i[0]:[].slice.call(i,0),!i||this.beforeRead&&!this.beforeRead(i)?this.resetInput():Array.isArray(i)?Promise.all(i.map(this.readFile)).then(function(t){var a=!1,n=i.map(function(n,s){return n.size>e.maxSize&&(a=!0),{file:i[s],content:t[s]}});e.onAfterRead(n,a)}):this.readFile(i).then(function(t){e.onAfterRead({file:i,content:t},i.size>e.maxSize)}))},readFile:function(t){var e=this;return new Promise(function(i){var a=new FileReader;a.onload=function(t){i(t.target.result)},"dataUrl"===e.resultType?a.readAsDataURL(t):"text"===e.resultType&&a.readAsText(t)})},onAfterRead:function(t,e){e?this.$emit("oversize",t):this.afterRead&&this.afterRead(t),this.resetInput()},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")}},render:function(t){var e=this.accept,i=this.disabled;return t("div",{class:o()},[this.slots(),t("input",{attrs:Object(a["a"])({},this.$attrs,{type:"file",accept:e,disabled:i}),ref:"input",class:o("input"),on:{change:this.onChange}})])}})},"9ffb":function(t,e,i){"use strict";var a=i("a142"),n=Object(a["g"])("col"),s=n[0],r=n[1];e["a"]=s({props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{gutter:function(){return this.$parent&&Number(this.$parent.gutter)||0},style:function(){var t=this.gutter/2+"px";return this.gutter?{paddingLeft:t,paddingRight:t}:{}}},render:function(t){var e,i=this.span,a=this.offset;return t(this.tag,{class:r((e={},e[i]=i,e["offset-"+a]=a,e)),style:this.style},[this.slots()])}})},a21f:function(t,e,i){var a=i("584a"),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},bcd3:function(t,e,i){},bf60:function(t,e,i){},d1e1:function(t,e,i){"use strict";var a=i("a142"),n=Object(a["g"])("row"),s=n[0],r=n[1];e["a"]=s({props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},render:function(t){var e,i=this.align,a=this.justify,n="flex"===this.type,s="-"+Number(this.gutter)/2+"px",o=this.gutter?{marginLeft:s,marginRight:s}:{};return t(this.tag,{style:o,class:r((e={flex:n},e["align-"+i]=n&&i,e["justify-"+a]=n&&a,e))},[this.slots()])}})},d263:function(t,e,i){t.exports=i.p+"img/evaluation.94347794.png"},e930:function(t,e,i){"use strict";i("68ef"),i("bcd3")},f499:function(t,e,i){t.exports=i("a21f")},ffc4:function(t,e,i){"use strict";var a=i("3f2d"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-bdd29826.cc753cba.js.map